{"version":3,"file":"../Inventory.js","sourceRoot":"../../src","sources":["Inventory.coffee"],"names":[],"mappings":"AAAA,IAAA,UAAA,EAAA;;AAAA,UAAA,GAAa,OAAA,CAAQ,eAAR,CAAwB,CAAC;;AAEtC,MAAM,CAAC,OAAP,GAAuB,YAAN,MAAA,UAAA,QAAwB,WAAxB;EACf,SAAW,CAAC,IAAD,CAAA;AACT,QAAA;IAAA,GAAA,GAAM,IAAC,CAAA,MAAD,CAAQ,QAAA,CAAC,CAAD,CAAA;aACZ,CAAC,CAAC,IAAF,KAAU;IADE,CAAR;IAEN,IAAG,GAAG,CAAC,MAAP;aACE,GAAI,CAAA,CAAA,EADN;;EAHS;;EAMX,SAAW,CAAC,IAAD,EAAO,GAAP,EAAY,UAAU,KAAtB,CAAA;AACT,QAAA;IAAA,SAAA,GAAY,IAAC,CAAA,SAAD,CAAW,IAAX;IACZ,IAAA,CAAO,SAAP;MACE,SAAA,GAAY,IAAC,CAAA,aAAD,CAAe,IAAf,EADd;;IAEA,IAAG,OAAH;aACE,SAAS,CAAC,aAAV,CAAwB,SAAS,CAAC,GAAV,GAAgB,GAAxC,EADF;KAAA,MAAA;aAGE,SAAS,CAAC,GAAV,IAAiB,IAHnB;;EAJS;;EASX,aAAe,CAAC,IAAD,EAAO,GAAP,CAAA;WACb,IAAI,CAAC,aAAL,CAAmB,GAAnB;EADa;;AAhBA","sourcesContent":["Collection = require('spark-starter').Collection\n\nmodule.exports = class Inventory extends Collection\n  getByType: (type)->\n    res = @filter (r)->\n      r.type == type\n    if res.length\n      res[0]\n      \n  addByType: (type, qte, partial = false)->\n    ressource = @getByType(type);\n    unless ressource\n      ressource = @initRessource(type)\n    if partial\n      ressource.partialChange(ressource.qte + qte)\n    else\n      ressource.qte += qte\n      \n  initRessource: (type, opt)->\n    type.initRessource(opt)"]}
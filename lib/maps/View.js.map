{"version":3,"file":"../View.js","sourceRoot":"../../src","sources":["View.coffee"],"names":[],"mappings":"AAAA,IAAA,OAAA,EAAA,IAAA,EAAA;;AAAA,OAAA,GAAU,OAAA,CAAQ,eAAR,CAAwB,CAAC;;AACnC,IAAA,GAAO,OAAA,CAAQ,kBAAR,CAA2B,CAAC;;AAEnC,MAAM,CAAC,OAAP,GAAuB;EAAN,MAAA,KAAA,QAAmB,QAAnB;IAkBf,WAAa,CAAA,CAAA;AACX,UAAA,GAAA,EAAA;MAAA,IAAG,CAAC,IAAC,CAAA,MAAL;QACE,IAAC,CAAA,IAAD,GAAQ,IAAC,CAAA,IAAD,4EAA+B,CAAE,uBAAjC,IAAyC,IAAI,IAAJ,CAAA;eACjD,IAAC,CAAA,MAAD,GAAU,IAAC,CAAA,IAAI,CAAC,OAAN,CAAA,EAFZ;;IADW;;IAKb,OAAS,CAAA,CAAA;aACP,IAAC,CAAA,IAAD,GAAQ;IADD;;EAvBM;;EACf,IAAC,CAAA,UAAD,CACE;IAAA,IAAA,EACE;MAAA,MAAA,EAAQ,QAAA,CAAC,GAAD,CAAA;QACN,IAAG,IAAC,CAAA,IAAJ;UACE,IAAC,CAAA,IAAI,CAAC,KAAK,CAAC,GAAZ,CAAgB,IAAhB;UACA,IAAC,CAAA,WAAD,CAAA,EAFF;;QAGA,IAAG,GAAH;iBACE,GAAG,CAAC,KAAK,CAAC,MAAV,CAAiB,IAAjB,EADF;;MAJM;IAAR,CADF;IAOA,CAAA,EACE;MAAA,OAAA,EAAS;IAAT,CARF;IASA,CAAA,EACE;MAAA,OAAA,EAAS;IAAT,CAVF;IAWA,IAAA,EACE;MAAA,OAAA,EAAS;IAAT,CAZF;IAaA,MAAA,EACE;MAAA,OAAA,EAAS;IAAT;EAdF,CADF","sourcesContent":["Element = require('spark-starter').Element\nGrid = require('parallelio-grids').Grid\n\nmodule.exports = class View extends Element\n  @properties\n    game:\n      change: (old)->\n        if @game \n          @game.views.add(this)\n          @setDefaults()\n        if old\n          old.views.remove(this)\n    x:\n      default: 0\n    y:\n      default: 0\n    grid:\n      default: null\n    bounds:\n      default: null\n\n  setDefaults: ->\n    if !@bounds\n      @grid = @grid || @game._mainView?.value?.grid || new Grid()\n      @bounds = @grid.addCell()\n\n  destroy: ->\n    @game = null"]}
{"version":3,"file":"../Door.js","sourceRoot":"../../src","sources":["Door.coffee"],"names":[],"mappings":"AAAA,IAAA,IAAA,EAAA;;AAAA,KAAA,GAAQ,OAAA,CAAQ,kBAAR,CAA2B,CAAC;;AAEpC,MAAM,CAAC,OAAP,GAAuB;EAAN,MAAA,KAAA,QAAmB,MAAnB;IACf,WAAa,aAAc,IAAI,CAAC,UAAU,CAAC,UAA9B,CAAA;;MAAC,IAAC,CAAA;IAAF;;IAUb,iBAAkB,CAAC,GAAD,CAAA;AAChB,UAAA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA;MAAA,IAAG,WAAH;;aACqB,CAAE,SAArB,CAA+B,MAA/B,EAAsC,IAAtC;;;cACsB,CAAE,SAAxB,CAAkC,MAAlC,EAAyC,IAAzC;SAFF;;MAGA,IAAG,IAAC,CAAA,IAAJ;;cACuB,CAAE,cAAvB,CAAsC,MAAtC,EAA6C,IAA7C;;mEACwB,CAAE,cAA1B,CAAyC,MAAzC,EAAgD,IAAhD,WAFF;;IAJgB;;EAXH;;EAGf,IAAC,CAAA,UAAD,CACE;IAAA,IAAA,EACE;MAAA,MAAA,EAAQ,QAAA,CAAC,GAAD,CAAA;eACN,IAAC,CAAA,iBAAD,CAAmB,GAAnB;MADM;IAAR,CADF;IAGA,IAAA,EACE;MAAA,OAAA,EAAS;IAAT,CAJF;IAKA,SAAA,EAAW,CAAA;EALX,CADF;;EAgBA,IAAC,CAAA,UAAD,GAAc;IACZ,UAAA,EAAY,YADA;IAEZ,QAAA,EAAU;EAFE","sourcesContent":["Tiled = require('parallelio-tiles').Tiled\n\nmodule.exports = class Door extends Tiled\n  constructor: (@direction = Door.directions.horizontal) ->\n    super()\n  @properties\n    tile:\n      change: (old) ->\n        @updateTileMembers(old)\n    open:\n      default: false\n    direction: {}\n\n  updateTileMembers:(old)->\n    if old?\n      old.walkableMembers?.removeRef('open',this)\n      old.transparentMembers?.removeRef('open',this)\n    if @tile\n      @tile.walkableMembers?.addPropertyRef('open',this)\n      @tile.transparentMembers?.addPropertyRef('open',this)\n\n  @directions = {\n    horizontal: 'horizontal'\n    vertical: 'vertical'\n  }\n"]}
{"version":3,"file":"../Travel.js","sourceRoot":"../../src","sources":["Travel.coffee"],"names":[],"mappings":"AAAA,IAAA,OAAA,EAAA;;AAAA,OAAA,GAAU,OAAA,CAAQ,eAAR,CAAwB,CAAC;;AAEnC,MAAM,CAAC,OAAP,GAAuB;EAAN,MAAA,OAAA,QAAqB,QAArB;IAyBf,KAAO,CAAC,QAAD,CAAA;MACL,IAAG,IAAC,CAAA,KAAJ;QACE,IAAC,CAAA,MAAD,GAAU;eACV,IAAC,CAAA,WAAD,GAAe,IAAC,CAAA,MAAM,CAAC,UAAR,CAAmB,CAAA,CAAA,GAAA;UAChC,IAAC,CAAA,SAAS,CAAC,QAAX,GAAsB,IAAC,CAAA;iBACvB,IAAC,CAAA,MAAD,GAAU;QAFsB,CAAnB,EAGb,IAAC,CAAA,QAHY,EAFjB;;IADK;;EAzBQ;;EACf,MAAC,CAAA,UAAD,CACE;IAAA,SAAA,EACE;MAAA,OAAA,EAAS;IAAT,CADF;IAEA,aAAA,EACE;MAAA,OAAA,EAAS;IAAT,CAHF;IAIA,cAAA,EACE;MAAA,OAAA,EAAS;IAAT,CALF;IAMA,cAAA,EACE;MAAA,MAAA,EAAQ,QAAA,CAAA,CAAA;eACN,IAAC,CAAA,aAAa,CAAC,KAAK,CAAC,QAArB,CAA8B,IAAC,CAAA,cAA/B;MADM;IAAR,CAPF;IASA,QAAA,EACE;MAAA,OAAA,EAAS;IAAT,CAVF;IAWA,MAAA,EACE;MAAA,OAAA,EAAS;IAAT,CAZF;IAaA,KAAA,EACE;MAAA,MAAA,EAAQ,QAAA,CAAA,CAAA;QACN,IAAG,IAAC,CAAA,cAAD,KAAmB,IAAC,CAAA,aAAvB;AACE,iBAAO,MADT;;QAEA,IAAG,mCAAA,IAA2B,kCAA9B;AACE,iBAAO,4BADT;;MAHM;IAAR,CAdF;IAmBA,MAAA,EACE;MAAA,MAAA,EAAQ,QAAA,CAAA,CAAA;eACN,IAAI,MAAJ,CAAA;MADM;IAAR;EApBF,CADF","sourcesContent":["Element = require('spark-starter').Element\n\nmodule.exports = class Travel extends Element\n  @properties\n    traveller: \n      default: null\n    startLocation: \n      default: null\n    targetLocation:\n      default: null\n    currentSection:\n      calcul: ->\n        @startLocation.links.findStar(@targetLocation)\n    duration:\n      default: 1000\n    moving: \n      default: false\n    valid: \n      calcul: ->\n        if @targetLocation == @startLocation\n          return false\n        if @targetLocation.links? and @startLocation.links?\n          return @currentSection?\n    timing:\n      calcul: ->\n        new Timing()\n\n  start: (location)->\n    if @valid\n      @moving = true\n      @pathTimeout = @timing.setTimeout =>\n        @traveller.location = @targetLocation\n        @moving = false\n      , @duration\n\n"]}